(function(a){a.fn.extend({embeddedHelp:function(x,r){function y(){var b,e={height:window.innerHeight,width:window.innerWidth};e.height||!(b=document.compatMode)&&a.support.boxModel||(b="CSS1Compat"==b?document.documentElement:document.body,e={height:b.clientHeight,width:b.clientWidth});return e}function z(){return{top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft}}function u(){return{height:a(document).height(),
width:a(document).width()}}function F(a){return{height:a.height(),width:a.width()}}function C(a,e){var d=u();return(a>d.width/2?"L":"R")+(e>d.height/2?"T":"B")}function A(){a(".EHtoolgost").remove();a(".EHtooltipc").each(function(b){var e=a(this);b=e.offset();var d=e.outerWidth(),c=e.outerHeight(),f=u(),g=y(),h=z(),q=h.top,h=h.left,n=q+g.height,p=h+g.width,e=e.find("span").html(),k=!1;if(f.width>g.width)var m=50,l=!0;else m=35,l=!1;f.height>g.height?(f=50,g=!0):(f=35,g=!1);b.top>n?(c=n-m,k=!0):!0==
l&&b.top>n-20?(c=n-m,k=!0):b.top+c<q?(c=q,k=!0):c=b.top;b.left+d<h?(b=h+10,k=!0):!0==g&&b.left+d<h-20?(b=h+10,k=!0):b.left>p?(b=p-f,k=!0):b=b.left;!0==k&&(d=a("<div>").addClass("EHtoolgost").html("<span>"+e+"</span>").appendTo("body"),!0!=G(e,c,b,d.outerHeight(),d.outerWidth())&&d.attr("id","ghost_"+e).css("top",c+5+"px").css("left",b-5+"px").appendTo("body").fadeIn("slow"))});return!1}function H(){I(a("#EHpointer"));return!1}function G(b,e,d,c,f){y();z();var g=!1;a(".EHtoolgost").each(function(h){h=
a(this).offset();var q=a(this).outerWidth(),n=a(this).outerHeight(),p=a(this).find("span").html();p!=b&&""!=p&&(d>=h.left&&d<=h.left+q||d+f>=h.left&&d+f<=h.left+q)&&(e>=h.top&&e<=h.top+n||e+c>=h.top&&e+c<=h.top+n)&&(a(this).find("span").html(p+", "+b),g=!0)});return g}function I(b){var e=b.offset(),d=b.height();b=b.width();var c=y(),f=z(),g=f.top,f=f.left,h=g+c.height,q=f+c.width,n=u(),p=!1,k=!1,m=a.browser.opera?"html":"body,html";if(0<b){if(e.top+d>h){var l=g+c.height;l+c.height>n.height&&(l=n.height-
c.height);g!=l&&(p=!0)}else e.top<g&&(l=g-c.height,0>l&&(l=0),g!=l&&(p=!0));if(e.left<f){var s=f-c.width;0>f&&(f=0);f!=s&&(k=!0)}else e.left+b>q&&(s=f+c.width,s+c.width>n.width&&(s=n.width-c.width),f!=s&&(k=!0));!0==p&&!0!=t&&(t=!0,a(m).animate({scrollTop:l},"slow",function(a){t=!1}));!0==k&&!0!=t&&(t=!0,a(m).animate({scrollLeft:s},"slow",function(a){t=!1}))}return!1}function B(b){!0==r.callextf&&""!=b.extf&&void 0!=b.extf&&(a[b.extf]?(b.object=a(b.element),a[b.extf](b)):jQuery.globalEval(b.extf));
return!1}function v(){clearInterval(D);w=null;a("#EHpointer").stop(!0);a("#EHtooltip").stop();a(".EHtooltmp").remove();a("#EHtooltip").remove();a("#EHpointer").remove();a(".EHtooltipc").remove();a(".EHtoolgost").remove();a.isEmptyObject(x)||a.each(x,function(b,e){a.each(e.path,function(b,c){a(c.element).removeClass(c.marker)})});return!1}function J(b,e){var d=b.offset();u();var c=e.length;if(!a.isEmptyObject(e)){a("body").append("<div id='EHtooltip'></div>");a("body").append("<div id='EHpointer'></div>");
a("#EHpointer").css("top",d.top+10+"px").css("left",d.left+10+"px").fadeIn("fast");var f=0;(function(){var b=e[f++],d=arguments.callee,q=a(b.element).offset(),n=a(b.element).height(),p=a(b.element).width(),k=q.left+p/2,m=q.top+n/2,l=F(a("#EHpointer"));a("#EHpointer").animate({left:k+"px",top:m+"px"},1E3,function(d){a(b.element).addClass(b.marker);d=a("#EHtooltip").css("width","auto");d.html(b.desc);"E"!=b.ftriger&&B(b);var c=d.width(),e=d.height();tbalign=!0!=r.autoalign&&""!=b.align?b.align:C(k+
5,m+5);switch(tbalign){case "L":topset=m;leftset=k-c-5;break;case "LT":topset=m-e-5;leftset=k-c-5;break;case "LB":topset=m+e+5;leftset=k-c-5;break;case "R":topset=m;leftset=k+l.width+5;break;case "RT":topset=m-5;leftset=k+l.width+5;break;case "RB":topset=m+l.height+5,leftset=k+l.width+5}d.css("top",topset+"px").css("left",leftset+"px").css("width",c+"px").fadeIn("fast").delay(b.duration).queue(function(){a(this).dequeue()})}).delay(b.duration).queue(function(){a(b.element).removeClass(b.marker);"E"==
b.ftriger&&B(b);f>=c&&(a("#EHtooltip").remove(),a("#EHpointer").remove(),clearInterval());a(this).dequeue()}).fadeTo(1,1,d)})()}!0==r.animatedvp&&(D=setInterval(H,250));return!1}function E(b){a(".EHtooltipc").remove();a(".EHtooltmp").remove();u();a.isEmptyObject(b)||a.each(b,function(b,d){var c=a(d.element).offset(),f=a(d.element).height(),g=a(d.element).width(),g=c.left+g/2,c=c.top+f/2,f="<span>"+(b+1)+"</span>";tbalign=!0!=r.autoalign&&""!=d.align?d.align:C(g+5,c+5);a("<div>").addClass("EHtooltipc").html(f).attr("rel",
tbalign).attr("alt",d.desc).css("top",c+5+"px").css("left",g+5+"px").appendTo("body").fadeIn("slow");B(d)});return!0==r.staticvp?A():!1}function K(b){a.isEmptyObject(b)||a.each(b,function(b,d){a("#EHhelpBox").append("<a rel='"+d.rel+"' href=''>"+d.link+"</a><br/>")})}var w,t,D;r=a.extend({animatedvp:!0,staticvp:!0,autoalign:!0,callextf:!0,autolinks:!0},r);return this.each(function(){var b=x,e=a(this),e=a("a[rel]",e);!0==r.autolinks&&K(b);e.live("click",function(){var d=a(this),c=a(this).attr("rel");
v();a.isEmptyObject(b)||a.each(b,function(a,b){b.rel==c&&("animated"==b.method?J(d,b.path):(E(b.path),w=b.path))});return!1});a(".EHclose").live("click",function(){a(".EHtooltipc").fadeOut("slow").remove();v();return!1});a(".EHstopAll").live("click",function(){v();return!1});a(".EHtooltmp").live("mouseleave",function(){a(this).remove()});a(".EHtooltipc").live("mouseover",function(){a(".EHtooltmp").remove();var b=a(this).attr("rel"),c=a(this).offset(),e=a(this).outerWidth();a(this).outerHeight();var g=
a(this).find("span").html(),g=w[g-1].desc;switch(b){case "L":case "LT":case "LB":b=a("<div>").addClass("EHtooltmp").html("<p>"+g+"</p><a href='' class='EHclose'>X</a>").appendTo("body");tmpboxWidth=b.width();tmpboxHeight=b.height();b.css("top",c.top+"px").css("left",c.left-tmpboxWidth+"px").css("width",tmpboxWidth+"px").css("border-right","0px").fadeIn("slow");break;case "R":case "RT":case "RB":b=a("<div>").addClass("EHtooltmp").html("<p>"+g+"</p><a href='' class='EHclose'>X</a>").appendTo("body"),
tmpboxWidth=b.width(),tmpboxHeight=b.height(),b.css("top",c.top+"px").css("left",c.left+e+"px").css("width",tmpboxWidth+"px").css("border-left","0px").fadeIn("slow")}});a(window).resize(function(){E(w);!0==r.staticvp&&A()});a(window).scroll(function(){!0==r.staticvp&&A()});a(window).keydown(function(a){"27"!=a.keyCode&&"27"!=a.which||v()});a(document).keydown(function(a){"27"!=a.keyCode&&"27"!=a.which||v()})})}})})(jQuery);
var ehelp_topics=[{rel:"interface",method:"animated",path:[{element:"#toolbarHolder",desc:"Application main menu. Hover your mouse over options to see various commands",duration:4E3,align:"LT",marker:"EHpointer"},{element:"#dblist",desc:"List of databases on the server. Selection shows the database you are currently working with.",duration:4E3,align:"LT",marker:"EHpointer"},{element:"#object_list",desc:"Database objects e.g. tables, views, functions are displayed here",duration:4E3,align:"LT",marker:"EHpointer"},
{element:"#screenContent",desc:"Content area contains query results, success/error messages and other information",duration:4E3,align:"LT",marker:"EHpointer"},{element:"#sqlEditFrame",desc:"Multiple Sql Editors. You can switch between the editors by shortcuts keys to work with multiple queries without overwriting them",duration:6E3,align:"LT",marker:"EHpointer"},{element:"#nav_bar",desc:"Buttons for performing various result related operations.<br />As you work with results, additional buttons appear here based on the editing state of results",
duration:8E3,align:"LT",marker:"EHpointer"}]},{rel:"queries",method:"animated",path:[{element:"#sqlEditFrame",desc:"Type sql query in one of the sql editors, or select a part of the text to be executed as a query",duration:4E3,align:"LT",marker:"EHpointer"},{element:"#nav_query",desc:"Click on the [Query] button, or press Ctrl+Enter to run the query",duration:3E3,align:"LT",marker:"EHpointer"},{element:"#nav_queryall",desc:"To execute multiple queries at once, Click [Query All] or press Ctrl+Shift+Enter",
duration:3E3,align:"LT",marker:"EHpointer"},{element:"#screenContent",desc:"Successful query results will show up in the result pane<br />If an error occurs, the error will be shown in the messages pane",duration:6E3,align:"LT",marker:"EHpointer"}]},{rel:"editing_results",method:"animated",path:[{element:"#screenContent",desc:"Once results appear in the results pane after a query or table selection, you can:<br />- Sort the results by clicking the column headers<br />- Use the checkboxes in second column to select records for deletion<br />- Double click a cell to edit its value<br />- Use the [Add Record] button to add a new record (which can be later saved by [Update records] button)",
duration:1E4,align:"R",marker:"EHpointer"},{element:"#nav_bar",desc:"Once you have selected/edited the records you want to update, use one of the buttons on the navigation bar to perform an operation",duration:5E3,align:"L",marker:"EHpointer"},{element:"#nav_bar",desc:"Press [Update records] to generate and execute update queries for edited records",duration:4E3,align:"L",marker:"EHpointer"},{element:"#nav_bar",desc:"Press [Delete records] to generate and execute queries to delete selected records",
duration:4E3,align:"L",marker:"EHpointer"},{element:"#nav_bar",desc:"Press [Generate SQL] to only generate update/delete queries. You can then inspect the generated sql text and execute as desired after any modification",duration:1E4,align:"L",marker:"EHpointer"},{element:"#screenContent",desc:"Success/error messages and affected records will be shown in the messages pane",duration:5E3,align:"L",marker:"EHpointer"}]},{rel:"objects",method:"animated",path:[{element:"#object_list",desc:"Click on any of the objects in the database to perform default action.<br />Clicking on tables/views shows their data in the results pane.<br />For other objects, their creation command is shown by default",
duration:1E4,align:"LT",marker:"EHpointer"},{element:"#object_list",desc:"Right click on any object to see a list of commands that can be performed on that object",duration:8E3,align:"LT",marker:"EHpointer"},{element:"#object_list",desc:"Some of the commands generate sql queries when executed, which are then automatically added to the first sql editor",duration:7E3,align:"LT",marker:"EHpointer"}]}],showEHelp=function(){$("body").append('<div id="EHhelpOverlay" class="ui-widget-overlay"></div><div id="EHhelpBox" class="ui-widget-header"><p class="title">Quickstart Tutorials</p><a rel="interface" href="#">Introduction to interface elements</a><a rel="queries" href="#">Performing queries</a><a rel="editing_results" href="#">Editing and saving results</a><a rel="objects" href="#">Working with database objects</a><a id="EHstopAll" class="EHstopAll" href="#">Close Tutorial</a></div>');
$("#EHhelpBox").embeddedHelp(ehelp_topics,{animatedvp:!0,staticvp:!0,autoalign:!0,autolinks:!1});$("#EHstopAll").click(function(a){$("#EHhelpOverlay,#EHhelpBox").remove();$("#ehelp_css").remove()});$("#EHhelpBox").one("click",function(){$(this).animate({top:"3%",right:"3%"})})};
